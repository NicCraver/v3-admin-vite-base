"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=require("../../v-x-e-table"),_utils=require("../../tools/utils"),_vn=require("../../tools/vn"),_render=require("./render"),_util=require("./util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,l=arguments.length;i<l;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},VxeFormConfigItem=(0,_vue.defineComponent)({name:"VxeFormConfigItem",props:{itemConfig:Object},setup:function(D){var W=(0,_vue.inject)("$xeform",{}),e={itemConfig:D.itemConfig};(0,_vue.provide)("$xeformiteminfo",e),(0,_vue.provide)("$xeformgather",null);return{renderVN:function(){var e=W.reactData,t=W.props,i=t.data,l=t.rules,n=t.span,s=t.align,o=t.titleAlign,r=t.titleWidth,u=t.titleColon,a=t.titleAsterisk,t=t.titleOverflow,d=W.getComputeMaps().computeValidOpts,f=D.itemConfig,e=e.collapseAll,d=d.value,c=f.slots,_=f.title,v=f.visible,m=f.folding,x=f.field,j=f.collapseNode,g=f.itemRender,R=f.showError,p=f.errRule,h=f.className,C=f.titleOverflow,U=f.children,k=f.showTitle,N=f.contentClassName,F=f.contentStyle,q=f.titleClassName,y=f.titleStyle,O=(0,_utils.isEnableConf)(g)?_vXETable.VXETable.renderer.get(g.name):null,b=O?O.itemClassName:"",T=O?O.itemStyle:null,V=O?O.itemContentClassName:"",w=O?O.itemContentStyle:null,A=O?O.itemTitleClassName:"",E=O?O.itemTitleStyle:null,I=c?c.default:null,c=c?c.title:null,n=f.span||n,s=f.align||s,o=_xeUtils.default.eqNull(f.titleAlign)?o:f.titleAlign,r=_xeUtils.default.eqNull(f.titleWidth)?r:f.titleWidth,u=_xeUtils.default.eqNull(f.titleColon)?u:f.titleColon,a=_xeUtils.default.eqNull(f.titleAsterisk)?a:f.titleAsterisk,t=_xeUtils.default.isUndefined(C)||_xeUtils.default.isNull(C)?t:C,C="title"===t,M=!0===t||"tooltip"===t,t=C||M||"ellipsis"===t,S={data:i,field:x,property:x,item:f,$form:W,$grid:W.xegrid};return!1===v?(0,_vue.createCommentVNode)():(v=!1,l&&(l=l[x])&&(v=l.some(function(e){return e.required})),U&&0<U.length?(l=U.map(function(e,t){return(0,_vue.h)(VxeFormConfigItem,{key:t,itemConfig:e})})).length?(0,_vue.h)("div",{class:["vxe-form--gather vxe-row",f.id,n?"vxe-col--".concat(n," is--span"):"",h?_xeUtils.default.isFunction(h)?h(S):h:""]},l):(0,_vue.createCommentVNode)():(U=[],I?U=W.callSlot(I,S):O&&O.renderItemContent?U=(0,_vn.getSlotVNs)(O.renderItemContent(g,S)):x&&(U=[_xeUtils.default.toValueString(_xeUtils.default.get(i,x))]),j&&U.push((0,_vue.h)("div",{class:"vxe-form--item-trigger-node",onClick:W.toggleCollapseEvent},[(0,_vue.h)("span",{class:"vxe-form--item-trigger-text"},e?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),(0,_vue.h)("i",{class:["vxe-form--item-trigger-icon",e?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})])),p&&d.showMessage&&U.push((0,_vue.h)("div",{class:"vxe-form--item-valid",style:p.maxWidth?{width:"".concat(p.maxWidth,"px")}:null},p.content)),l=M?{onMouseenter:function(e){W.triggerTitleTipEvent(e,S)},onMouseleave:W.handleTitleTipLeaveEvent}:{},(0,_vue.h)("div",{class:["vxe-form--item",f.id,n?"vxe-col--".concat(n," is--span"):"",h?_xeUtils.default.isFunction(h)?h(S):h:"",b?_xeUtils.default.isFunction(b)?b(S):b:"",{"is--title":_,"is--colon":u,"is--asterisk":a,"is--required":v,"is--hidden":m&&e,"is--active":(0,_util.isActivetem)(W,f),"is--error":R}],style:_xeUtils.default.isFunction(T)?T(S):T},[(0,_vue.h)("div",{class:"vxe-form--item-inner"},[!1!==k&&(_||c)?(0,_vue.h)("div",__assign({class:["vxe-form--item-title",o?"align--".concat(o):"",t?"is--ellipsis":"",A?_xeUtils.default.isFunction(A)?A(S):A:"",q?_xeUtils.default.isFunction(q)?q(S):q:""],style:Object.assign({},_xeUtils.default.isFunction(E)?E(S):E,_xeUtils.default.isFunction(y)?y(S):y,r?{width:isNaN(r)?r:"".concat(r,"px")}:null),title:C?(0,_utils.getFuncText)(_):null},l),(0,_render.renderTitle)(W,f)):null,(0,_vue.h)("div",{class:["vxe-form--item-content",s?"align--".concat(s):"",V?_xeUtils.default.isFunction(V)?V(S):V:"",N?_xeUtils.default.isFunction(N)?N(S):N:""],style:Object.assign({},_xeUtils.default.isFunction(w)?w(S):w,_xeUtils.default.isFunction(F)?F(S):F)},U)])])))}}},render:function(){return this.renderVN()}}),_default=VxeFormConfigItem;exports.default=_default;